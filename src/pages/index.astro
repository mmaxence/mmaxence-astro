---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import PageContent from '../components/ui/PageContent.astro';
import AnimatedContent from '../components/ui/AnimatedContent.astro';
import CardGrid from '../components/ui/CardGrid.astro';
import BlogCard from '../components/blog/BlogCard.astro';
import ThemeToast from '../components/ui/ThemeToast.astro';
import HeroShapes from '../components/home/HeroShapes.astro';
import { 
  WhatIDoVisual, 
  ExperienceSnapshotVisual, 
  HowIWorkVisual, 
  LeadershipScalesVisual, 
  BeyondTheRoleVisual 
} from '../components/home/SectionVisuals.tsx';
import HomeSection from '../components/home/HomeSection.astro';
import { getCollection } from 'astro:content';

const blogPosts = (await getCollection('blog'))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3); // Get latest 3 posts for homepage
---

<BaseLayout title="Systemic Design for High-Growth Products | Maxence Mauduit" description="Product Design Leader (CDO) specializing in building interaction systems that bridge complex business logic and high-performance user experiences.">
  <Header />
  <!-- Hero Section - Full Viewport -->
  <section class="min-h-screen flex flex-col items-center justify-center px-3 md:px-0" style="margin-top: -8rem;">
    <div class="w-full max-w-2xl mx-auto text-center">
      <AnimatedContent delay={0}>
        <HeroShapes />
      </AnimatedContent>
      <AnimatedContent delay={100}>
        <h1 class="text-center text-3xl md:text-5xl m-0 leading-tight font-heading" style="font-weight: 400; color: var(--theme-text);">
          Turning early product decisions into scalable platforms.
        </h1>
      </AnimatedContent>
      <AnimatedContent delay={200}>
        <p class="text-center mt-4 text-base md:text-lg font-body font-normal max-w-2xl mx-auto px-4" style="color: var(--theme-text);">
          Product & experience executive with 11+ years shaping monetization and platform products, building independent teams, and maintaining experience coherence under growth pressure.<br />Still hands-on where it matters.
        </p>
      </AnimatedContent>
    </div>
  </section>
  
  <!-- Main Content Sections -->
  <PageContent class="flex flex-col">
    {/* WHAT I DO */}
    <HomeSection title="WHAT I DO" delay={0}>
      <p slot="pre-visual" class="mt-4">I work at the intersection of product definition, interaction design, and execution systems.</p>
      <WhatIDoVisual slot="visual" client:load />
      <div slot="post-visual">
        <p class="mt-4">My strength is taking problems that are still undefined, strategically sensitive, or technically constrained, and turning them into products teams can actually build and scale. Sometimes that means leading. Sometimes that means designing the first version myself and stepping away once the direction is clear.</p>
        <p class="mt-4">I'm comfortable operating as an executive, and I remain effective as an individual contributor when the work requires depth, speed, and judgment.</p>
        <p class="mt-4">
          <a href="/images/Maxence-Mauduit_Resume-2026.pdf" target="_blank" rel="noopener noreferrer" class="content-link">View my resume</a> for a detailed overview of my experience and impact.
        </p>
      </div>
    </HomeSection>
    
    {/* EXPERIENCE SNAPSHOT */}
    <HomeSection title="EXPERIENCE SNAPSHOT" delay={50}>
      <ExperienceSnapshotVisual slot="visual" client:load />
      <div slot="post-visual">
        <div class="mt-8">
          <h2 class="text-2xl md:text-3xl font-mono font-light">Buzzvil — Product & Experience Executive</h2>
          <p class="text-base font-normal mt-1" style="color: var(--theme-text-muted);">Seoul · 2014–Present</p>
          
          <ul class="mt-6 space-y-2 list-none pl-0">
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Shaped first iterations of nearly every major product and monetization model</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Led the company through a major pivot from consumer products to B2B Ads and SDK platforms</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Built and scaled a high-retention design team with strong product ownership</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Currently institutionalizing execution and experience coherence in preparation for IPO</span>
            </li>
          </ul>
        </div>
        
        <div class="mt-12">
          <h2 class="text-2xl md:text-3xl font-mono font-light">CMS Group — UX Design Lead</h2>
          <p class="text-base font-normal mt-1" style="color: var(--theme-text-muted);">Paris · 2011–2014</p>
          
          <ul class="mt-6 space-y-2 list-none pl-0">
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Led UX for enterprise and SaaS products</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Co-published research on co-design validation methods</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2" style="color: var(--theme-text-muted);">•</span>
              <span>Built an education SaaS bridging design intent and production code</span>
            </li>
          </ul>
        </div>
        
        <div class="mt-8">
          <p class="text-base">For more details, see my <a href="/timeline" class="content-link">full experience timeline</a>.</p>
        </div>
      </div>
    </HomeSection>
    
    {/* HOW I WORK */}
    <HomeSection title="HOW I WORK" delay={100}>
      <HowIWorkVisual slot="visual" client:load />
      <div slot="post-visual">
        <div class="mt-6 space-y-6">
          <div>
            <h2 class="text-2xl md:text-3xl font-mono font-light">Deliberate thinking, fast execution</h2>
            <p>I invest heavily upfront to clarify constraints, tradeoffs, and intent, so execution can move quickly without rework.</p>
          </div>
          
          <div>
            <h2 class="text-2xl md:text-3xl font-mono font-light">Systems over screens</h2>
            <p>I design interaction models, primitives, and patterns that hold together across teams and iterations, not just polished flows.</p>
          </div>
          
          <div>
            <h2 class="text-2xl md:text-3xl font-mono font-light">Product ownership mindset</h2>
            <p>Whether leading or contributing, I design with unit economics, engineering cost, and long-term maintainability in mind.</p>
          </div>
        </div>
      </div>
    </HomeSection>
    
    {/* LEADERSHIP THAT SCALES */}
    <HomeSection title="LEADERSHIP THAT SCALES" delay={150}>
      <LeadershipScalesVisual slot="visual" client:load />
      <div slot="post-visual">
        <p class="mt-4">I build small, senior teams designed to operate without constant oversight.</p>
        <p class="mt-4">When I lead, my goal is to remove ambiguity early and make myself unnecessary over time.</p>
        <p class="mt-4">When I contribute individually, it's usually at the beginning of new initiatives, where clarity does not exist yet and decisions are expensive.</p>
        <p class="mt-4">If execution depends on me long-term, the system is wrong.</p>
      </div>
    </HomeSection>
    
    {/* BEYOND THE ROLE */}
    <HomeSection title="BEYOND THE ROLE" delay={200}>
      <BeyondTheRoleVisual slot="visual" client:load />
      <div slot="post-visual">
        <p class="mt-4">I value sustainable performance and depth over constant acceleration.</p>
        <p class="mt-4">Outside of work, I'm a parent of two and spend my time learning how complex systems behave, from interaction design to human psychology.</p>
      </div>
    </HomeSection>
    
    {/* Blog Posts */}
    {blogPosts.length > 0 && (
      <section class="min-h-screen flex flex-col items-center justify-center px-3 md:px-8 lg:px-12 py-12 md:py-16">
        <div class="max-w-5xl mx-auto text-[1.125rem] leading-relaxed index" style="color: var(--theme-text);">
          <AnimatedContent delay={350}>
            <div class="w-full">
              <h1 class="text-4xl md:text-5xl font-mono font-light mb-8">Latest Insights on Systems & Leadership</h1>
              <CardGrid columns={3}>
                {blogPosts.map((post, index) => (
                  <AnimatedContent delay={400 + (index * 50)}>
                    <BlogCard post={post} />
                  </AnimatedContent>
                ))}
              </CardGrid>
            </div>
          </AnimatedContent>
        </div>
      </section>
    )}
    
  </PageContent>
      <Footer />
      <ThemeToast />
    </BaseLayout>

<style>
  /* Prevent hover effects on index content sections containing SVG images */
  .index-content-section {
    pointer-events: auto;
  }
  
  /* Remove hover effects from principle card divs containing SVG images */
  .index-content-section > div > div.my-8 {
    transition: none !important;
  }
  
  .index-content-section > div > div.my-8:hover {
    box-shadow: none !important;
    transform: none !important;
  }

  /* Section visuals styling */
  .index-content-section svg {
    display: block;
    width: 100% !important;
    height: auto;
    max-width: 100% !important;
    min-width: 100% !important;
  }
  
  /* Force visual wrapper divs to fill container width - prevent SVG from constraining */
  .index-content-section > div[class*="my-8"] {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 100% !important;
    /* Prevent child SVG from constraining parent */
    overflow: visible !important;
  }
  
  /* Mobile: enable horizontal scrolling for Experience visual */
  @media (max-width: 768px) {
    .experience-visual-wrapper {
      overflow-x: auto !important;
      overflow-y: hidden !important;
      -webkit-overflow-scrolling: touch !important;
      touch-action: pan-x !important;
    }
    
    .experience-visual-wrapper > svg {
      min-width: auto !important;
      max-width: none !important;
    }
  }


  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .index-content-section svg * {
      animation: none !important;
      transition: opacity 0.3s ease !important;
    }
  }

</style>

